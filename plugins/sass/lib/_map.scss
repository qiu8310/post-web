@function map-set($map, $key, $val) {
  @if map-has-key($map, $key) {
    $map: map-remove($map, $key);
  }
  $map: map-merge($map, ($key: $val));
  @return $map;
}